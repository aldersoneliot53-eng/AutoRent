<!-- public/flota.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Flota Disponible | AutoRent S.A.C.</title>
  <link rel="stylesheet" href="../assets/css/normalize.css" />
  <link rel="stylesheet" href="../assets/css/main.css" />
  <link rel="stylesheet" href="../assets/css/flota.css" />
</head>
<body>
  <div id="header-placeholder"></div>

  <main class="main-flota">
    <h1>Nuestra Flota de Vehículos</h1>
    <p>Elige el auto ideal para tu viaje. Todos nuestros vehículos están en perfecto estado y listos para alquiler.</p>

    <div class="cars-grid" id="carsGrid">
      <!-- Se llena con JavaScript -->
    </div>
  </main>

  <div id="footer-placeholder"></div>

  <script src="../assets/js/app.js" defer></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const grid = document.getElementById("carsGrid");
      let autos = JSON.parse(localStorage.getItem("autos")) || [
  { id: 1, modelo: "Toyota Corolla", tipo: "Sedán - 5 pasajeros", precio: 120, img: "toyota-corolla.jpg", disponible: true },
  { id: 2, modelo: "Jeep Renegade", tipo: "SUV - 5 pasajeros", precio: 180, img: "jeep-renegade.jpg", disponible: true },
  { id: 3, modelo: "Honda CR-V", tipo: "SUV Grande - 7 pasajeros", precio: 200, img: "honda-crv.jpg", disponible: true },
  { id: 4, modelo: "Mazda CX-5", tipo: "SUV - 5 pasajeros", precio: 175, img: "mazda-cx5.jpg", disponible: true },
  { id: 5, modelo: "Hyundai Accent", tipo: "Sedán - 5 pasajeros", precio: 110, img: "hyundai-accent.jpg", disponible: true },
  { id: 6, modelo: "Kia Rio", tipo: "Hatchback - 5 pasajeros", precio: 115, img: "kia-rio.jpg", disponible: true },
  { id: 7, modelo: "Nissan Kicks", tipo: "SUV - 5 pasajeros", precio: 160, img: "nissan-kicks.jpg", disponible: true },
  { id: 8, modelo: "Ford Escape", tipo: "SUV - 5 pasajeros", precio: 190, img: "ford-escape.jpg", disponible: true },
  { id: 9, modelo: "Chevrolet Tracker", tipo: "SUV Compacta - 5 pasajeros", precio: 155, img: "chevrolet-tracker.jpg", disponible: true },
  { id: 10, modelo: "Volkswagen Jetta", tipo: "Sedán - 5 pasajeros", precio: 150, img: "volkswagen-jetta.jpg", disponible: true },
  { id: 11, modelo: "Subaru Outback", tipo: "SUV - 5 pasajeros", precio: 210, img: "subaru-outback.jpg", disponible: true },
  { id: 12, modelo: "Toyota RAV4", tipo: "SUV - 5 pasajeros", precio: 205, img: "toyota-rav4.jpg", disponible: true },
  { id: 13, modelo: "Mitsubishi L200", tipo: "Pickup - 5 pasajeros", precio: 220, img: "mitsubishi-l200.jpg", disponible: true },
  { id: 14, modelo: "Nissan Frontier", tipo: "Pickup - 5 pasajeros", precio: 230, img: "nissan-frontier.jpg", disponible: true },
  { id: 15, modelo: "Suzuki Swift", tipo: "Hatchback - 5 pasajeros", precio: 130, img: "suzuki-swift.jpg", disponible: true }
];


      // Guardar si es la primera vez
      if (!localStorage.getItem("autos")) {
        localStorage.setItem("autos", JSON.stringify(autos));
      }

      // Mostrar autos
      autos.forEach(auto => {
  if (auto.disponible) {
    const div = document.createElement("article");
    div.className = "car-card";
    div.innerHTML = `
      <img 
        src="${auto.img.startsWith('data') ? auto.img : '../assets/img/autos/' + auto.img}" 
        alt="${auto.modelo}" 
      />
      <div class="car-info">
        <h3>${auto.modelo}</h3>
        <p class="type">${auto.tipo}</p>
        <p class="price">S/ ${auto.precio} <span>/día</span></p>
        <ul class="features">
          <li>Gasolina</li>
          <li>Manual / Automático</li>
          <li>Aire acondicionado</li>
        </ul>
        <a href="vehiculo.html" class="btn btn-primary" onclick="seleccionarAuto(${auto.id})">Reservar Ahora</a>
      </div>
    `;
    grid.appendChild(div);
  }
});

    });

    function seleccionarAuto(id) {
      const autos = JSON.parse(localStorage.getItem("autos"));
      const auto = autos.find(a => a.id === id);
      if (auto) {
        localStorage.setItem("autoSeleccionado", JSON.stringify(auto));
      }
    }
  </script>
</body>
</html>